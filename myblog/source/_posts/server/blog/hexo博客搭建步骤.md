---
title: hexo博客搭建步骤
date: 2021-05-19 18:06:02
tags: 
- 服务器
- hexo
category:
- server
- blog build
---
# 工具准备 #

事先说明：
1. 我使用的是阿里云ecs服务器，centos系统，Ubuntu系统请自行查找相关指令，如果不同，可能会出现我也不知道的错误。
2. 我也是处于学习阶段写的这份博客，如果有描述不恰当的地方，敬请指正。
3. 原文在[此处](https://www.jianshu.com/p/6ae883f9291c)。

## git安装 ##

Linux系统直接使用Linux指令安装即可，Windows系统安装[链接](https://git-scm.com/download/win)

## nodejs安装 ##

我是用nvm安装的：
```
$ wget -qO- https://raw.github.com/creationix/nvm/v0.33.11/install.sh | sh
$ nvm install stable
```
还可以直接安装npm和nodejs，但可能会出现版本不兼容问题，npm版本过低
```
sudo apt-get install nodejs
sudo apt-get npm
```
还可以直接在[官网](https://nodejs.org/en/download/)下载。
# 开始安装Hexo #

一步安装Hexo
` $ npm install -g hexo-cli `

安装完成后在你想要博客的文件夹下执行如下代码
```
$ hexo init myblog #blog是博客文件夹名可以自己指定
$ cd myblog #进入该文件夹
$ npm install #这个操作功能是补全依赖环境
```
最后一步可能会出现两句worning，这是因为你使用的windows系统不需要mac相关东西，没有影响。

完成后会生成许多文件夹和文件，这些文件的具体说明见事先说明中的链接。

目前为止，你已经生成了一个Hexo基本博客，里面有一个hello-word网页

进入文件夹
` cd myblog `
输入
```
hexo generate
或者
hexo g
```
生成页面，每次增加博客也要执行此操作

然后输入
```
hexo server （这一步执行以后命令行会不断刷新信息，可以
或者
hexo s
```

即可启动网页服务

然后在浏览器中输入你的服务器ip:4000即可看到效果

到此你已经可以访问你的博客了

# 继续优化你的网站 #

该部分建议互相结合观看，可能出现前后顺序不同的问题

## 域名设置 ##

由于时间比较久远，描述可能没有那么详细
大致过程如下


### 购买域名 ###

这里我在阿里购买的域名

### 域名备案 ###

阿里云备案链接 https://beian.aliyun.com/?spm=5176.13841030.J_8058803260.4.379a6fc478FE46
还可以使用手机app进行备案，更方便。如果不是在阿里购买的域名，可自行百度备案链接
按顺序填写即可，不用担心填写不规范，有问题的内容会在电话核实中进一步完善
备案可能需要几个工作日，耐心等待即可，没耐心也可以跟客服催一催，反正我催了之后当天就被处理了

### 域名解析 ###

在菜单栏点击域名，选择域名解析，再添加域名，按要求填写即可

## 设置端口号 ##

打开文件 node_modules\hexo-server\index.js 修改其中的port值即可，若改成80，则访问时不需要增加端口号
如果改成80后无法直接访问，请检查端口是否被禁用或者被占用

## 在本机编辑 ##

在服务器编译多少会有些不方便
我们也可以在自己电脑上事先编辑好然后直接上传到服务器即可

### 制作网页 ###

1. 用上述步骤配置同样在本地配置好git、nodejs和hexo
2. 同样利用init指令生成
3. 本地启动后可访问127.0.0.1:4000可进行本地调试

### 上传到网页 ###

将本地生成的myblog文件夹压缩后上传到服务器
在服务器上解压后进入文件夹执行启动即可

## 使用主题 ##

默认只有一个简单的静态网页显然不能满足我们的预期，我们可以寻找一些自己喜欢的主题美化我们的界面。
这里提供两个链接供大家使用，我自己用的就是第二个，相信看完这两个应该就知道主题是怎样的了。
1. https://github.com/Sanonz/hexo-theme-concise
2. https://github.com/maochunguang/black-blue

这里说一下当前主题出现的几个问题：
1. 代码里面的部分文件不完整，因此其他标签点击会无效，可以模仿“所有文章”的形式进行编辑，目前还在研究，成功后补出分享
2. 最下方的页脚在 /layout/_partial/footer.ejs 中
3. 欢迎留言补充

## 新增博客 ##

所有的博客都被存放在 source/_posts 文件夹下
只需要将写好的.md文件存放到里面即可
如果觉得一个文件夹一堆文件太乱了，也可以在里面增加文件夹放到里面
注意：开头一定要有特定的格式以便归档。
比如：
```
---
title:  Hexo部署静态博客网站
tags:    
- 实用 
- 博客搭建
category:  
- 技术杂谈 
---
```
或者直接使用如下指令生成：
` hexo new "博客文章文件名" `

如何编辑.mk文件请点[此处](https://www.jianshu.com/p/399e5a3c7cc5)学习基本语法。

然后回到博客根目录输入如下指令：
```
hexo clean #清除页面缓存 
hexo g #生成静态网页
hexo s#启动网页服务
```
如果只是网页内容变动，刷新页面即可。
